
{% extends 'base.html' %}
{% load static %}

<style>


    .bg-img{
        background:url("/static/img/light.jpg");
    }
</style>


{% block myblock %}

<div class="container">
    <div class="row">
        <div class="col-md-12 bg-img py-5 text-center text-light">
         
        </div>
        <div class="col-md-6 mx-auto p-3 bg-light my-2">
      
           <div class="text-center">
            {% if data.user_uploaded_img %}
            <img src="/media/{{data.user_uploaded_img}}" alt="" style="height:150px;width:150px;border-radius: 50%;">
            {% else %}
            <img src="{% static 'img/user.jpg' %}" alt="" style="height:150px;width:150px;border-radius: 50%;">
            {% endif %}
           </div>
           
            <form action="" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {% if status %}
                    <div class="alert alert-primary">{{status}}

                    </div>
                {% endif %}
                <div class="form-group">
                    <div class="row">
                        <div class="col-md-12">
                            <label>Name</label>
                            <input type="text" class="form-control" id="first_name" name="first_name" placeholder="Enter Name" value="">
                        </div>
                        <!-- <div class="col-md-6">
                            <label>Query</label>
                            <input type="text" class="form-control" id="querydesc" name="querydesc" placeholder="Enter Query" value="">
                        </div> -->
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-md-12">
                            <label>Gender</label>
                            <select name="gendertype" id="gendertype">
                                <option value="" class="form-control">Select Gender</option>
                                <option value="M" class="form-control">Male</option>
                                <option value="F">Female</option>
                                <option value="O">Other</option>
                        </div>
                        <div class="col-md-12">
                            <label>Profile Picture</label>
                            <input type="file" class="form-control" id="image" name="image" onchange="validateSize(this)">
                            <span id="size"></span>
                        </div>
                    </div>
                </div>
                <div>
                <div class="form-group">
                    <div class="row">
                        <div class="form-row h-100">
                            <div class="col-12 h-100 pb-3">
                              <textarea class="form-control h-100 pb-3" maxlength = "255" name="querydesc" id="querydesc" placeholder="Issue"
                                ></textarea>
                            </div>
                          </div>
                     
                    </div>
                </div>
            
           
                <div class="form-group">
                    <input type="submit" name="submitdata" id="changeprofile" value="Submit" class="btn btn-primary" style="width : 50%;border-radius:20px;">
                </div>

            </form>

        </div>

    </div>

</div>
{% endblock %}
<script>
function validateSize(input) {
  const fileSize = document.getElementById("image").files[0];
   // in MiB
   alert(fileSize);
  if (fileSize > 2) {
    alert('File size exceeds 2 MiB');
    // $(file).val(''); //for clearing with Jquery
  } else {
    // Proceed further
  }
}
</script>